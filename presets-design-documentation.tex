\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{enumitem}

\geometry{margin=1in}

% Define colors
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{darkbg}{RGB}{0,0,0}
\definecolor{surface}{RGB}{26,26,26}
\definecolor{accentgreen}{RGB}{102,166,89}

% Code listing style
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{codepurple},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codegreen},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single
}
\lstset{style=mystyle}

% Header/Footer
\pagestyle{fancy}
\fancyhf{}
\rhead{DesignLibre .preserve File Creation}
\lhead{Design Documentation}
\rfoot{Page \thepage}

\title{\textbf{Design Reproduction Documentation}\\
\large Creating a .preserve File from PNG Reference\\
\vspace{0.5cm}
\normalsize Presets Screen - Sound Application}

\author{Generated by Claude AI\\
\small via DesignLibre Tools}

\date{January 3, 2026}

\begin{document}

\maketitle
\tableofcontents
\newpage

% =============================================================================
\section{Executive Summary}
% =============================================================================

This document details the complete process of recreating an iPhone application screen design from a PNG reference image into the DesignLibre \texttt{.preserve} file format. The design depicts a ``Presets'' screen from a sound/audio application featuring a dark theme aesthetic.

\subsection{Deliverables}
\begin{enumerate}
    \item \textbf{presets-screen.preserve} -- A complete DesignLibre archive file containing the reproduced design
    \item \textbf{presets-design-documentation.tex} -- This LaTeX documentation file
\end{enumerate}

\subsection{Success Criteria}
The \texttt{.preserve} file should open in DesignLibre and display:
\begin{itemize}
    \item All UI elements with correct positioning
    \item Proper colors matching the original design
    \item Correct typography hierarchy
    \item Accurate spacing and layout
    \item All interactive elements (buttons, tabs, cards)
\end{itemize}

% =============================================================================
\section{Design Analysis}
% =============================================================================

\subsection{Initial Observation}

Upon examining the PNG image, I identified the following characteristics:

\begin{itemize}
    \item \textbf{Device}: iPhone (standard dimensions)
    \item \textbf{Theme}: Dark mode with pure black background
    \item \textbf{Application Type}: Sound/audio preset management
    \item \textbf{Screen}: ``Presets'' tab showing custom sound combinations
\end{itemize}

\subsection{Visual Hierarchy}

The design follows a clear visual hierarchy:

\begin{enumerate}
    \item \textbf{Status Bar} -- System time display (10:21)
    \item \textbf{Header Section} -- Large title ``Presets'' with subtitle
    \item \textbf{Search Component} -- Search input field
    \item \textbf{Tab Navigation} -- Built-in / Custom / Color Noise
    \item \textbf{Content Card} -- Deep Focus Session preset
    \item \textbf{Action Button} -- ``Play Now'' (disabled state)
    \item \textbf{Bottom Navigation} -- Now Playing / Presets / Settings
\end{enumerate}

\subsection{Color Palette Extraction}

I extracted the following colors from the design:

\begin{table}[h]
\centering
\begin{tabular}{@{}llll@{}}
\toprule
\textbf{Element} & \textbf{Hex} & \textbf{RGB (0-1)} & \textbf{Usage} \\
\midrule
Background & \#000000 & (0, 0, 0) & Main background \\
Surface & \#1A1A1A & (0.1, 0.1, 0.1) & Card backgrounds \\
Surface Secondary & \#1C1C1E & (0.11, 0.11, 0.12) & Search bar \\
Text Primary & \#FFFFFF & (1, 1, 1) & Headings, labels \\
Text Secondary & \#8C8C8C & (0.55, 0.55, 0.55) & Subtitles \\
Text Tertiary & \#808080 & (0.5, 0.5, 0.5) & Placeholders \\
Accent Green & \#66A659 & (0.4, 0.65, 0.35) & Layer count \\
Button Green & \#618538 & (0.38, 0.52, 0.22) & Pink Noise button \\
Chip Background & \#333333 & (0.2, 0.2, 0.2) & Tags, tabs \\
Bottom Bar & \#141414 & (0.08, 0.08, 0.08) & Navigation bar \\
\bottomrule
\end{tabular}
\caption{Extracted Color Palette}
\end{table}

\subsection{Typography Analysis}

The design uses the SF Pro font family (Apple's system font):

\begin{table}[h]
\centering
\begin{tabular}{@{}lllll@{}}
\toprule
\textbf{Element} & \textbf{Font} & \textbf{Weight} & \textbf{Size} & \textbf{Line Height} \\
\midrule
Page Title & SF Pro Display & Bold (700) & 40px & 48px \\
Card Title & SF Pro Display & Semibold (600) & 22px & Auto \\
Status Time & SF Pro Text & Semibold (600) & 16px & Auto \\
Body Text & SF Pro Text & Regular (400) & 16px & Auto \\
Subtitle & SF Pro Text & Regular (400) & 15px & Auto \\
Chip Text & SF Pro Text & Regular (400) & 13px & Auto \\
Tab Text & SF Pro Text & Medium (500) & 14px & Auto \\
Button Text & SF Pro Text & Semibold (600) & 17px & Auto \\
Tab Label & SF Pro Text & Medium (500) & 10px & Auto \\
\bottomrule
\end{tabular}
\caption{Typography Specifications}
\end{table}

\subsection{Spacing and Layout}

Key spacing values identified:

\begin{itemize}
    \item \textbf{Screen padding}: 20px horizontal
    \item \textbf{Section gap}: 20px vertical
    \item \textbf{Card internal padding}: 20px
    \item \textbf{Element gap (within sections)}: 8-12px
    \item \textbf{Chip padding}: 4-6px vertical, 12-14px horizontal
    \item \textbf{Tab padding}: 8px vertical, 16-20px horizontal
\end{itemize}

\subsection{Corner Radius Values}

\begin{itemize}
    \item \textbf{Search bar}: 12px
    \item \textbf{Chips/Tags}: 14px (pill shape)
    \item \textbf{Card}: 16px
    \item \textbf{Tab pills}: 18px (fully rounded)
    \item \textbf{Play Now button}: 26px (fully rounded)
\end{itemize}

% =============================================================================
\section{Understanding the .preserve Format}
% =============================================================================

\subsection{Format Overview}

The \texttt{.preserve} format is DesignLibre's open-source, LLM-friendly design document format. Key characteristics:

\begin{itemize}
    \item \textbf{File Type}: ZIP archive containing JSON files
    \item \textbf{MIME Type}: \texttt{application/vnd.designlibre.preserve+zip}
    \item \textbf{Extension}: \texttt{.preserve}
    \item \textbf{Format Version}: 1.0.0
\end{itemize}

\subsection{Archive Structure}

\begin{lstlisting}[language=bash,caption=.preserve Archive Structure]
presets-screen.preserve/
|-- mimetype                    # Uncompressed, first entry
|-- document.json              # Root document metadata
|-- pages/
|   |-- page-presets-main.json # Page content with nodes
|-- tokens/
|   |-- tokens.json            # Design tokens
|-- components/
|   |-- registry.json          # Component registry
|-- prototypes/
|   |-- flows.json             # Interaction flows
|-- assets/
|   |-- manifest.json          # Asset manifest
|-- history/
|   |-- changelog.json         # Version history
|-- META-INF/
    |-- manifest.json          # Archive manifest
\end{lstlisting}

\subsection{Node Types Used}

The following node types were utilized in this design:

\begin{enumerate}
    \item \textbf{FRAME} -- Container nodes with optional auto-layout
    \item \textbf{TEXT} -- Text content with styling
    \item \textbf{VECTOR} -- Path-based shapes for icons
\end{enumerate}

\subsection{Key Data Structures}

\subsubsection{Transform}
Every visual node has a transform property:
\begin{lstlisting}[language=json]
{
  "x": 0,
  "y": 0,
  "width": 393,
  "height": 852,
  "rotation": 0
}
\end{lstlisting}

\subsubsection{Appearance}
Visual styling for nodes:
\begin{lstlisting}[language=json]
{
  "fills": [{
    "type": "SOLID",
    "color": { "r": 0, "g": 0, "b": 0, "a": 1 },
    "opacity": 1,
    "visible": true
  }],
  "cornerRadius": 16,
  "strokes": [],
  "effects": []
}
\end{lstlisting}

\subsubsection{Layout (Auto-Layout)}
For automatic layout management:
\begin{lstlisting}[language=json]
{
  "autoLayout": "VERTICAL",
  "padding": { "top": 20, "right": 20, "bottom": 20, "left": 20 },
  "gap": 12,
  "alignItems": "STRETCH"
}
\end{lstlisting}

\subsubsection{Text Styles}
Rich text styling with ranges:
\begin{lstlisting}[language=json]
{
  "start": 0,
  "end": 7,
  "fontFamily": "SF Pro Display",
  "fontWeight": 700,
  "fontSize": 40,
  "lineHeight": { "unit": "PIXELS", "value": 48 },
  "fills": [{
    "type": "SOLID",
    "color": { "r": 1, "g": 1, "b": 1, "a": 1 }
  }]
}
\end{lstlisting}

% =============================================================================
\section{Implementation Process}
% =============================================================================

\subsection{Step 1: Directory Structure Creation}

Created the required directory structure for the \texttt{.preserve} archive:

\begin{lstlisting}[language=bash]
mkdir -p presets-design/{META-INF,pages,assets,tokens,\
    prototypes,components,history}
\end{lstlisting}

\subsection{Step 2: Mimetype File}

Created the mimetype file (must be uncompressed and first in archive):

\begin{lstlisting}
application/vnd.designlibre.preserve+zip
\end{lstlisting}

\subsection{Step 3: Document Metadata}

Created \texttt{document.json} with document-level information:

\begin{lstlisting}[language=json]
{
  "$schema": "https://designlibre.app/schemas/preserve/1.0/document.json",
  "id": "doc-presets-001",
  "name": "Presets Screen - Sound App",
  "formatVersion": "1.0.0",
  "created": "2026-01-03T12:00:00.000Z",
  "modified": "2026-01-03T12:00:00.000Z",
  "authors": [{ "name": "Claude AI" }],
  "pages": [{
    "id": "page-presets-main",
    "name": "Presets Screen",
    "path": "pages/page-presets-main.json"
  }],
  "settings": {
    "colorSpace": "sRGB",
    "defaultUnit": "px"
  }
}
\end{lstlisting}

\subsection{Step 4: Page Content Creation}

This was the most complex step, involving the creation of all UI elements.

\subsubsection{Root Frame (iPhone Device)}
\begin{lstlisting}[language=json]
{
  "id": "iphone-frame",
  "type": "FRAME",
  "name": "iPhone 16 Pro",
  "transform": {
    "x": 0, "y": 0,
    "width": 393, "height": 852,
    "rotation": 0
  },
  "appearance": {
    "fills": [{
      "type": "SOLID",
      "color": { "r": 0, "g": 0, "b": 0, "a": 1 }
    }]
  },
  "clipContent": true,
  "children": [...]
}
\end{lstlisting}

\subsubsection{Component Hierarchy}

The page was built with the following nested structure:

\begin{enumerate}
    \item \textbf{iPhone Frame} (393x852)
    \begin{enumerate}
        \item Status Bar (height: 54px)
        \begin{itemize}
            \item Time Text ``10:21''
        \end{itemize}
        \item Content Area
        \begin{enumerate}
            \item Header Section
            \begin{itemize}
                \item Title ``Presets'' (40px bold)
                \item Subtitle ``Ready-made sound combinations''
            \end{itemize}
            \item Search Bar (rounded rect with icon + placeholder)
            \item Tab Bar (horizontal layout)
            \begin{itemize}
                \item Built-in tab
                \item Custom tab (selected - filled background)
                \item Color Noise tab
            \end{itemize}
            \item Preset Card
            \begin{enumerate}
                \item Card Title ``Deep Focus Session''
                \item Layer Count ``2 layers''
                \item Tags Row (Focus, Productivity)
                \item Frequency Row (200.0 Hz, 10.0 Hz, Alpha Relaxation)
                \item Pink Noise Button
                \item Description Text
            \end{enumerate}
            \item Play Now Button (disabled state)
        \end{enumerate}
        \item Bottom Tab Bar
        \begin{itemize}
            \item Now Playing (icon + label)
            \item Presets (icon + label, selected)
            \item Settings (icon + label)
        \end{itemize}
    \end{enumerate}
\end{enumerate}

\subsubsection{Icon Vector Paths}

Created vector paths for the bottom navigation icons:

\textbf{Search Icon (Magnifying Glass)}:
\begin{lstlisting}[language=json]
{
  "windingRule": "NONZERO",
  "commands": [
    { "type": "M", "x": 7, "y": 0 },
    { "type": "C", "x1": 10.87, "y1": 0, "x2": 14, "y2": 3.13,
      "x": 14, "y": 7 },
    ...
    { "type": "Z" }
  ]
}
\end{lstlisting}

\textbf{Bookmark Icon (Presets)}:
\begin{lstlisting}[language=json]
{
  "windingRule": "NONZERO",
  "commands": [
    { "type": "M", "x": 2, "y": 0 },
    { "type": "L", "x": 16, "y": 0 },
    { "type": "C", "x1": 17.1, "y1": 0, "x2": 18, "y2": 0.9,
      "x": 18, "y": 2 },
    { "type": "L", "x": 18, "y": 20 },
    { "type": "L", "x": 9, "y": 14 },
    { "type": "L", "x": 0, "y": 20 },
    ...
    { "type": "Z" }
  ]
}
\end{lstlisting}

\subsection{Step 5: Design Tokens}

Created a comprehensive token system for consistent styling:

\begin{itemize}
    \item \textbf{11 Color Tokens} -- Background, surfaces, text colors, accents
    \item \textbf{7 Typography Tokens} -- Title, body, chip, button styles
    \item \textbf{5 Spacing Tokens} -- xs (4px) to xl (20px)
    \item \textbf{5 Radius Tokens} -- Chip, input, card, tab, button
\end{itemize}

\subsection{Step 6: Archive Packaging}

Packaged all files into a \texttt{.preserve} ZIP archive:

\begin{lstlisting}[language=bash]
# Store mimetype uncompressed and first
zip -0 -X presets-screen.preserve mimetype

# Add remaining files with compression
zip -r -X presets-screen.preserve document.json pages/ \
    tokens/ components/ prototypes/ assets/ history/ META-INF/
\end{lstlisting}

% =============================================================================
\section{Design Decisions and Rationale}
% =============================================================================

\subsection{Device Dimensions}

Chose iPhone 16 Pro dimensions (393x852) as the reference frame:
\begin{itemize}
    \item Standard modern iPhone aspect ratio
    \item Allows for proper safe area consideration
    \item Compatible with typical iOS app layouts
\end{itemize}

\subsection{Color Interpretation}

The original image colors were estimated based on:
\begin{itemize}
    \item Common iOS dark mode conventions
    \item Visual contrast requirements
    \item Accessibility considerations
\end{itemize}

Some colors may vary slightly from the original due to:
\begin{itemize}
    \item PNG compression artifacts
    \item Display color profile differences
    \item Estimation from visual inspection
\end{itemize}

\subsection{Auto-Layout Usage}

Applied auto-layout to containers where appropriate:
\begin{itemize}
    \item \textbf{Vertical}: Content sections, cards, tab items
    \item \textbf{Horizontal}: Tab bars, chip rows, navigation items
\end{itemize}

This ensures the design remains flexible and responsive.

\subsection{Text Styling Approach}

Used SF Pro font family throughout:
\begin{itemize}
    \item \textbf{SF Pro Display}: Large titles (40px+)
    \item \textbf{SF Pro Text}: Body and smaller text
\end{itemize}

This matches Apple's Human Interface Guidelines for iOS.

% =============================================================================
\section{Node Details}
% =============================================================================

\subsection{Complete Node Inventory}

\begin{longtable}{@{}lllp{5cm}@{}}
\toprule
\textbf{ID} & \textbf{Type} & \textbf{Dimensions} & \textbf{Description} \\
\midrule
\endhead
iphone-frame & FRAME & 393x852 & Root device frame \\
status-bar & FRAME & 393x54 & Status bar container \\
status-time & TEXT & 43x20 & Time display ``10:21'' \\
content-area & FRAME & 393x716 & Main content container \\
header-section & FRAME & 353x80 & Title and subtitle \\
title-presets & TEXT & 150x48 & ``Presets'' title \\
subtitle-text & TEXT & 250x20 & Subtitle text \\
search-bar & FRAME & 353x44 & Search input container \\
search-icon & VECTOR & 16x16 & Magnifying glass icon \\
search-placeholder & TEXT & 60x20 & ``Search'' placeholder \\
tab-bar & FRAME & 353x36 & Category tabs \\
tab-builtin & FRAME & 70x36 & Built-in tab \\
tab-custom & FRAME & 85x36 & Custom tab (selected) \\
tab-colornoise & FRAME & 100x36 & Color Noise tab \\
preset-card & FRAME & 353x230 & Deep Focus Session card \\
card-title & TEXT & 200x28 & Card title text \\
card-layers & TEXT & 60x18 & ``2 layers'' text \\
tags-row & FRAME & 313x28 & Focus/Productivity tags \\
tag-focus & FRAME & 55x28 & Focus chip \\
tag-productivity & FRAME & 95x28 & Productivity chip \\
frequency-row & FRAME & 313x28 & Frequency chips \\
freq-200hz & FRAME & 72x28 & 200.0 Hz chip \\
freq-10hz & FRAME & 65x28 & 10.0 Hz chip \\
alpha-relaxation-chip & FRAME & 130x28 & Alpha Relaxation chip \\
alpha-dot & FRAME & 8x8 & Green indicator dot \\
pink-noise-button & FRAME & 90x30 & Pink Noise button \\
binaural-description & TEXT & 200x18 & Description text \\
play-now-button & FRAME & 353x52 & Play Now CTA \\
bottom-tab-bar & FRAME & 393x82 & Bottom navigation \\
tab-now-playing & FRAME & 80x38 & Now Playing tab \\
tab-presets-bottom & FRAME & 80x38 & Presets tab (selected) \\
tab-settings & FRAME & 80x38 & Settings tab \\
\bottomrule
\caption{Complete Node Inventory}
\end{longtable}

% =============================================================================
\section{Verification Checklist}
% =============================================================================

\subsection{File Structure Verification}

\begin{itemize}
    \item[$\checkmark$] mimetype file exists and is uncompressed
    \item[$\checkmark$] document.json contains valid metadata
    \item[$\checkmark$] pages/page-presets-main.json contains all nodes
    \item[$\checkmark$] tokens/tokens.json defines design system
    \item[$\checkmark$] META-INF/manifest.json lists all entries
    \item[$\checkmark$] All supporting directories exist
\end{itemize}

\subsection{Design Accuracy Verification}

\begin{itemize}
    \item[$\checkmark$] Status bar with time ``10:21''
    \item[$\checkmark$] ``Presets'' title (large, bold, white)
    \item[$\checkmark$] Subtitle with secondary color
    \item[$\checkmark$] Search bar with icon and placeholder
    \item[$\checkmark$] Three-tab navigation (Custom selected)
    \item[$\checkmark$] Deep Focus Session card
    \item[$\checkmark$] ``2 layers'' in green
    \item[$\checkmark$] Focus and Productivity tags
    \item[$\checkmark$] Frequency chips (200.0 Hz, 10.0 Hz)
    \item[$\checkmark$] Alpha Relaxation chip with green dot
    \item[$\checkmark$] Pink Noise button (green background)
    \item[$\checkmark$] ``Binaural Beat, Pink Noise'' description
    \item[$\checkmark$] Play Now button (disabled state)
    \item[$\checkmark$] Bottom navigation with three tabs
    \item[$\checkmark$] Presets tab selected in bottom nav
\end{itemize}

% =============================================================================
\section{Potential Improvements}
% =============================================================================

\subsection{Items Not Implemented}

Due to limitations in the available tools or information:

\begin{enumerate}
    \item \textbf{Exact Font Metrics} -- SF Pro fonts may render slightly differently; system font fallbacks may be needed
    \item \textbf{Precise Color Values} -- Colors estimated from visual inspection of PNG
    \item \textbf{Icon Precision} -- Vector icons are approximations of the original SF Symbols
    \item \textbf{Shadows/Effects} -- Subtle shadows or effects may not be visible in the source image
\end{enumerate}

\subsection{Recommendations for Enhancement}

\begin{enumerate}
    \item Add interaction prototypes for tab switching
    \item Include hover states for interactive elements
    \item Add component variants for different preset types
    \item Include responsive breakpoints for different devices
\end{enumerate}

% =============================================================================
\section{Conclusion}
% =============================================================================

This documentation demonstrates the complete process of recreating an iPhone application screen design in the DesignLibre \texttt{.preserve} format. The resulting file contains:

\begin{itemize}
    \item \textbf{1 Page} with comprehensive UI hierarchy
    \item \textbf{32+ Nodes} representing all visual elements
    \item \textbf{28 Design Tokens} for consistent styling
    \item \textbf{Complete Metadata} for document management
\end{itemize}

The \texttt{presets-screen.preserve} file should open correctly in DesignLibre, displaying a faithful reproduction of the original PNG reference image.

\subsection{Files Delivered}

\begin{enumerate}
    \item \texttt{presets-screen.preserve} -- The design archive (8,612 bytes)
    \item \texttt{presets-design-documentation.tex} -- This documentation
\end{enumerate}

% =============================================================================
\appendix
\section{JSON Schema References}
% =============================================================================

All JSON files in the \texttt{.preserve} archive reference schemas at:

\begin{itemize}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/document.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/page.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/tokens.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/components.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/prototypes.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/assets.json}
    \item \texttt{https://designlibre.app/schemas/preserve/1.0/history.json}
\end{itemize}

\section{Color Values Reference}
% =============================================================================

Complete RGBA values used in the design:

\begin{lstlisting}[language=json]
{
  "background": { "r": 0, "g": 0, "b": 0, "a": 1 },
  "surface": { "r": 0.1, "g": 0.1, "b": 0.1, "a": 1 },
  "surfaceSecondary": { "r": 0.11, "g": 0.11, "b": 0.12, "a": 1 },
  "textPrimary": { "r": 1, "g": 1, "b": 1, "a": 1 },
  "textSecondary": { "r": 0.55, "g": 0.55, "b": 0.55, "a": 1 },
  "textTertiary": { "r": 0.5, "g": 0.5, "b": 0.5, "a": 1 },
  "accentGreen": { "r": 0.4, "g": 0.65, "b": 0.35, "a": 1 },
  "buttonGreen": { "r": 0.38, "g": 0.52, "b": 0.22, "a": 1 },
  "chipBackground": { "r": 0.2, "g": 0.2, "b": 0.2, "a": 1 },
  "bottomBar": { "r": 0.08, "g": 0.08, "b": 0.08, "a": 1 }
}
\end{lstlisting}

\end{document}
